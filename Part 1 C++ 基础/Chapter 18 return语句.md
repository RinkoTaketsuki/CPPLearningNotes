# Chapter 18 return语句

## 1. 返回通常类型的过程

计算return语句中表达式的值，以该值拷贝初始化在被调位置的一个临时变量（返回右值）

## 2. 返回指针和引用类型

引用返回的只是别名，无拷贝过程（返回左值），非常量引用可以被赋值  
指针返回的是右值  
不能返回局部变量的指针和引用，因为其指向对象在函数执行结束后会被销毁

## 3. 返回类类型对象

即使返回的是右值也可以访问其成员

## 4. 花括号返回值

返回类型支持花括号初始化即可

## 5. main函数返回值

返回值的具体含义在不同OS下有差异，为避免差异可以使用cstdlib标准库中的EXIT_SUCCESS和EXIT_FAILURE这两个宏  
main函数不能递归

## 6. 返回数组指针和引用的方法

1. 建议使用类型别名简化声明

    ```C++
    using arr_t = int[10];
    arr_t* f();
    arr_t& g();
    ```

2. 直接声明数组指针返回类型

    ```C++
    int (*f())[10];
    auto f() -> int(*)[10] // 尾置返回类型
    ```

3. 使用decltype返回数组指针

    ```C++
    int arr[10] = {0};
    decltype(arr) *f();
    ```
